<!DOCTYPE = html>
<html lang="en">
<head>
	<meta charset="utf-8">
  	<meta name="viewport" content="width=device-width, initial-scale=1">
    	<link rel="stylesheet" href="assets/css/main.css" />

 	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
 	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
 	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<style src="jquery.js"></style>

	<style type="text/css">
        tr{
            color: rgba(255, 255, 255, 0.65);
        },
        tr:hover {
            color: rgba(255, 255, 255, 0.65);
            background-color: black;
        }
        /*input[type=text] {
			float:right;
   			width: 200px;
    		box-sizing: border-box;
    		border: 2px solid #ccc;
    		border-radius: 4px;
    		font-size: 16px;
    		background-color: white;
    		padding: 12px 20px 12px;
            -webkit-transition: width 0.8s ease-in-out;
    		transition: width 0.4s ease-in-out;
		}
		input[type=text]:focus {
    		width: 30%;
		}*/
	</style>
    </style>
</head>
<body>
	<div class=" text-center">
		<h1 style="color:rgba(255, 255, 255, 0.65)">Course Registration</h1>
		<p style="color:rgba(255, 255, 255, 0.65)">For Principal</p>
		</div> 
	<div class="container" style="margin-top: 60px">
		<div>
			<div class="row">
				<div>
					<a href="principalHome.html">
					<button type="button" class="btn btn-default">HOME</button>
					</a>
					<input type="text" id="search" onkeyup="searchCourse()" placeholder="Search Course..." style="color:rgba(255, 255, 255, 0.65)">
				</div>
			</div>
		</div>
		<div>
			<table class="table table-hover" id="allCourses">
				<thead>
					<tr>
						<th>Course Name</th>
						<th>Full Registration</th>
						<th>Check Student List</th>
					</tr>
				</thead>
				<tbody>
					
				</tbody>
			</table>
		</div>
	</div>



<!-- Footer -->
					<footer id="footer" style="color:rgba(255, 255, 255, 0.65)">
						<p>&copy; Code.Jam( ) Team24.</p>
					</footer>

	<script type="text/javascript">
//		var fakeCourseFile = '{"classes": {"Mathematics": {"MONDAY-AM0830-AM1030": {"student1": {"id": "1","name": "ONE,ONE"},"student2": { "id": "2","name": "TWO,TWO"},"student3": {"id": "3","name": "THREE,THREE" },"student4": { "id": "4","name": "FOUR,FOUR"},"student5": { "id": "5","name": "FIVE,FIVE"}, "student6": {"id": "6","name": "SIX,SIX"},"student7": { "id": "7","name": "SEVEN,SEVEN"},"student8": { "id": "8", "name": "EIGHT,EIGHT" },"student9": {"id": "9","name": "NINE,NINE"},"student10": {"id": "10","name": "TEN,TEN"},"student11": { "id": "11","name": "ELEVEN,ELEVEN"},"student12": { "id": "12","name": "TWELVE,TWELVE"},"student13": {"id": "13","name": "THIRTEEN,THIRTEEN"}, "student14": {"id": "14","name": "FOURTEEN,FOURTEEN"},"student15": {"id": "15","name": "FIFTEEN,FIFTEEN"},"student16": {"id": "16","name": "SIXTEEN,SIXTEEN" }, "student17": {"id": "17","name": "SEVENTEEN,SEVENTEEN"}, "student18": {"id": "18", "name": "EIGHTEEN,EIGHTEEN"},"student19": {"id": "19","name": "NINETEEN,NINETEEN"},"student20": {"id": "20","name": "TWENTY,TWENTY"}},"TUESDAY-AM0800-AM1000": { "student21":{ "id": "21", "name": "TWENTYONE,TWENTYONE" }}}}}'
//		var obj = JSON.parse(fakeCourseFile);
		var obj = {};
		obj["classes"] = JSON.parse(localStorage.getItem("classList"));
		var courseList = new Array;

		for(var courseName in obj["classes"]) {
			var courseInfo = new Array;
			courseInfo.push(courseName);

			for(var time in obj.classes[courseName]){
				courseInfo.push(time);
			}
			courseList.push(courseInfo);
		}


		/*	courseInfo.push(obj["classes"][courseID]["name"]);
			var courseTime = obj.classes[courseID].times.time1.day + " " + obj.classes[courseID].times.time1.start + "-" +obj.classes[courseID].times.time1.end;
			courseInfo.push(courseTime);
			courseTime = obj.classes[courseID].times.time2.day + " " + obj.classes[courseID].times.time2.start + "-" +obj.classes[courseID].times.time2.end;
			courseInfo.push(courseTime);
			courseList.push(courseInfo);
			}*/
		
//		for(var courseName in obj["classes"]) {
//			var courseInfo = new Array;
//			courseInfo.push(courseName);
//			for(var time in courseName) {
//				var courseTime = time; 	
//				courseInfo.push(courseTime);
//			}
////			courseTime = obj.classes[courseID].times.time2.day + " " + obj.classes[courseID].times.time2.start + "-" +obj.classes[courseID].times.time2.end;
////			courseInfo.push(courseTime);
//			courseList.push(courseInfo);
//		}

		for(var i = 0; i < courseList.length; i++) {
			$("#allCourses > tbody").append("<tr class='course" + i + "'><td colspan='3'>" + courseList[i][0] + "</td></tr><tr class='course" + i + "'><td style='padding-left:40px'>" + courseList[i][1] + "</td><td>" + "N/A" + "</td><td>"+ "<a href='prof.html'>" + "Add Links Later" + "</a>" +"</td></tr><tr class='course" + i + "'><td style='padding-left:40px'>" + courseList[i][2] + "</td><td>" + "N/A" + "</td><td>" + "<a href='prof.html'>" + "Add Links Later" + "</a>" +"</td></tr>");
		}
		
		var links = $('a[href$="prof.html"]');
		for(var n=0; n<links.length; n++) {
			$(links[n]).addEventListener("click",function(index){
				localStorage.setItem("className", courseList[index-1][0]);
			}(n), true);
		}


	</script>
	<script type="text/javascript">
		function searchCourse() {
		  	var input, filter, table, tr, td, i;
		  	input = document.getElementById("search");
		  	filter = input.value.toUpperCase();
		  	table = document.getElementById("allCourses");
		  	

		  	for(i = 0; i < 10; i++) {
		  		tr = table.getElementsByClassName("course"+i);
		  		td = tr[0].getElementsByTagName("td")[0];
		  		

		  		if(td){
		  			if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
		  				$('.course'+i).removeAttr("style");
		      		} 
		      		else {
		        		$('.course'+i).attr("style", "display:none");
		      		}
		  		}
		  	}	
		  	
	  	}
	</script>
</body>
</html>
